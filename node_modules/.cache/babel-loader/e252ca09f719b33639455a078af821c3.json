{"ast":null,"code":"var _jsxFileName = \"/Users/wangtangni/Desktop/ServiceNow-Interview/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Table } from \"react-bootstrap\";\nimport Card from \"./components/card\";\nimport TableByState from \"./components/table_by_state\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.get_all_data = () => {\n      fetch(URL + \"/incidents\").then(async res => {\n        const api = await res.json();\n        const incidents_all = api;\n\n        if (!res.ok) {\n          // get error message from body or default to response statusText\n          const error = incidents_all && incidents_all.message || res.statusText;\n          return Promise.reject(error);\n        } else {\n          let open = 0,\n              inprogress = 0,\n              resolved = 0,\n              closed = 0;\n          api.forEach(element => {\n            if (element.state === \"Open\") {\n              open++;\n            } else if (element.state === \"In Progress\") {\n              inprogress++;\n            } else if (element.state === \"Resolved\") {\n              resolved++;\n            } else if (element.state === \"Closed\") {\n              closed++;\n            }\n          });\n          console.log(\"open\", open);\n          this.setState({\n            incidents_all,\n            open: open,\n            inprogress: inprogress,\n            resolved: resolved,\n            closed: closed\n          });\n        }\n      }).catch(error => {\n        // this.setState({ errorMessage: error });\n        console.error(\"There was an error!\", error);\n      });\n    };\n\n    this.state = {\n      incidents_all: []\n    };\n  }\n\n  async componentDidMount() {\n    this.get_all_data();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"Open\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/inprogress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"In Progress\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/closed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, \"Closed\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/resolved\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, \"Resolved\"))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/open\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Open, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/inprogress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Inprogress, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/closed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Closed, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/resolved\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Resolved, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nfunction Home() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, \"Home\"));\n}\n\nfunction Open() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableByState, {\n    state: \"Open\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Inprogress() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableByState, {\n    state: \"In Progress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Closed() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableByState, {\n    state: \"Closed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction Resolved() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TableByState, {\n    state: \"Resolved\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/wangtangni/Desktop/ServiceNow-Interview/src/App.js"],"names":["React","Component","Table","Card","TableByState","BrowserRouter","Router","Switch","Route","Link","App","constructor","props","get_all_data","fetch","URL","then","res","api","json","incidents_all","ok","error","message","statusText","Promise","reject","open","inprogress","resolved","closed","forEach","element","state","console","log","setState","catch","componentDidMount","render","Home","Open","Inprogress","Closed","Resolved"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Table } from \"react-bootstrap\";\nimport Card from \"./components/card\";\nimport TableByState from \"./components/table_by_state\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      incidents_all: []\n    };\n  }\n  async componentDidMount() {\n    this.get_all_data();\n  }\n  get_all_data = () => {\n    fetch(URL + \"/incidents\")\n      .then(async res => {\n        const api = await res.json();\n        const incidents_all = api;\n\n        if (!res.ok) {\n          // get error message from body or default to response statusText\n          const error =\n            (incidents_all && incidents_all.message) || res.statusText;\n          return Promise.reject(error);\n        } else {\n          let open = 0,\n            inprogress = 0,\n            resolved = 0,\n            closed = 0;\n\n          api.forEach(element => {\n            if (element.state === \"Open\") {\n              open++;\n            } else if (element.state === \"In Progress\") {\n              inprogress++;\n            } else if (element.state === \"Resolved\") {\n              resolved++;\n            } else if (element.state === \"Closed\") {\n              closed++;\n            }\n          });\n          console.log(\"open\", open);\n\n          this.setState({\n            incidents_all,\n            open: open,\n            inprogress: inprogress,\n            resolved: resolved,\n            closed: closed\n          });\n        }\n      })\n      .catch(error => {\n        // this.setState({ errorMessage: error });\n        console.error(\"There was an error!\", error);\n      });\n  };\n  render() {\n    return (\n      <div className=\"content\">\n        <Router>\n          <div>\n            <ul>\n              <li>\n                <Link to=\"/\">Home</Link>\n              </li>\n              <li>\n                <Link to=\"/open\">Open</Link>\n              </li>\n              <li>\n                <Link to=\"/inprogress\">In Progress</Link>\n              </li>\n              <li>\n                <Link to=\"/closed\">Closed</Link>\n              </li>\n              <li>\n                <Link to=\"/resolved\">Resolved</Link>\n              </li>\n            </ul>\n\n            <hr />\n            <Switch>\n              <Route exact path=\"/\">\n                <Home />\n              </Route>\n              <Route path=\"/open\">\n                <Open />\n              </Route>\n              <Route path=\"/inprogress\">\n                <Inprogress />\n              </Route>\n              <Route path=\"/closed\">\n                <Closed />\n              </Route>\n              <Route path=\"/resolved\">\n                <Resolved />\n              </Route>\n            </Switch>\n          </div>\n        </Router>\n        {/* <h3>At A Glance</h3>\n        <div\n          onClick={() => {\n            this.get_data_by_state(\"Open\");\n          }}\n        >\n          <Card title={\"State Open\"} body={this.state.open} />\n        </div>\n        <div\n          onClick={() => {\n            this.get_data_by_state(\"In Progress\");\n          }}\n        >\n          {\" \"}\n          <Card title={\"State In Progress\"} body={this.state.inprogress} />\n        </div>\n        <div\n          onClick={() => {\n            this.get_data_by_state(\"Closed\");\n          }}\n        >\n          {\" \"}\n          <Card title={\"State Resolved\"} body={this.state.closed} />\n        </div>\n        <div\n          onClick={() => {\n            this.get_data_by_state(\"Resolved\");\n          }}\n        >\n          {\" \"}\n          <Card title={\"State Open\"} body={this.state.resolved} />\n        </div> */}\n      </div>\n    );\n  }\n}\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n    </div>\n  );\n}\n\nfunction Open() {\n  return (\n    <div>\n      <TableByState state={\"Open\"} />\n    </div>\n  );\n}\n\nfunction Inprogress() {\n  return (\n    <div>\n      <TableByState state={\"In Progress\"} />\n    </div>\n  );\n}\nfunction Closed() {\n  return (\n    <div>\n      <TableByState state={\"Closed\"} />\n    </div>\n  );\n}\nfunction Resolved() {\n  return (\n    <div>\n      <TableByState state={\"Resolved\"} />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}